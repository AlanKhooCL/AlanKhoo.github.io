<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>East Asia Spring Escape</title>
    
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        /* Hide scrollbar for the filter navigation */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Cherry Blossom Effects */
        @keyframes fall {
            0% { 
                transform: translate3d(0, -10vh, 0) rotate(0deg); 
                opacity: 0;
            }
            10% { opacity: 0.8; }
            90% { opacity: 0.8; }
            100% { 
                transform: translate3d(20vw, 110vh, 0) rotate(360deg); 
                opacity: 0;
            }
        }
        .petal {
            position: absolute;
            background: linear-gradient(135deg, #ffc0cb 0%, #ffb6c1 100%);
            border-radius: 15px 0px 15px 0px;
            box-shadow: 0 0 4px rgba(255, 182, 193, 0.6);
            animation: fall linear infinite;
        }
    </style>
</head>
<body class="min-h-screen bg-slate-50 font-sans text-slate-800">

    <!-- CHERRY BLOSSOM CONTAINER -->
    <div id="blossom-container" class="fixed inset-0 pointer-events-none overflow-hidden z-50"></div>

    <!-- HEADER SECTION -->
    <header class="bg-white border-b border-slate-200 sticky top-0 z-10 shadow-sm">
        <div class="max-w-5xl mx-auto px-4 py-6">
            <h1 class="text-3xl font-extrabold tracking-tight text-slate-900 mb-2" id="header-title"></h1>
            <div class="flex flex-wrap items-center gap-4 text-sm text-slate-500 font-medium" id="header-meta">
                <!-- Populated by JS -->
            </div>

            <!-- FILTER NAVIGATION -->
            <div class="flex overflow-x-auto gap-2 mt-6 pb-2 no-scrollbar" id="filter-nav">
                <!-- Populated by JS -->
            </div>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="max-w-5xl mx-auto px-4 py-8" id="main-content">
        <!-- Populated by JS -->
    </main>

    <script>
        // --- DATA ---
        const tripData = {
            overview: {
                title: "East Asia Spring Escape",
                dates: "April 14 - April 24, 2026",
                totalBudget: "$2,916 SGD (Base Flights + Accomm)",
            },
            budget: [
                { item: "Flights (SG ⇄ JP/KR + Inter-city)", cost: "$1,098", icon: "plane-takeoff" },
                { item: "Tokyo: Dai-ichi Hotel (5 Nights)", cost: "$1,055", icon: "bed-double" },
                { item: "Jeju: Airbnb (3 Nights)", cost: "$482", icon: "palmtree" },
                { item: "Seoul: Mercure Hongdae (2 Nights)", cost: "$281", icon: "bed-double" },
            ],
            locations: [
                { id: 'tokyo', name: 'Tokyo', color: 'pink', image: 'https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?auto=format&fit=crop&w=1000&q=80' },
                { id: 'jeju', name: 'Jeju Island', color: 'orange', image: 'https://images.unsplash.com/photo-1588668214407-6ea9a6d8c272?auto=format&fit=crop&w=1000&q=80' },
                { id: 'seoul', name: 'Seoul', color: 'purple', image: 'https://images.unsplash.com/photo-1517154421773-0529f29ea451?auto=format&fit=crop&w=1000&q=80' }
            ],
            itinerary: [
                // TOKYO
                {
                    day: 1, date: "Apr 14 (Tue)", location: "tokyo", title: "Arrival in Japan",
                    events: [
                        { time: "1:55 PM", desc: "Depart Singapore", icon: "plane-takeoff" },
                        { time: "9:55 PM", desc: "Arrive at Tokyo Haneda Airport", icon: "plane-landing", link: "https://www.google.com/maps/search/?api=1&query=Haneda+Airport" },
                        { time: "11:00 PM", desc: "Check-in: Dai-ichi Hotel Tokyo (Shimbashi)", icon: "bed-double", link: "https://www.agoda.com/dai-ichi-hotel-tokyo/hotel/tokyo-jp.html" }
                    ]
                },
                {
                    day: 2, date: "Apr 15 (Wed)", location: "tokyo", title: "Coffee, Akihabara & Ginza",
                    events: [
                        { time: "11:00 AM", desc: "Coffee Omakase @ Koffee Mameya Kakeru", icon: "coffee", link: "https://www.google.com/maps/search/?api=1&query=Koffee+Mameya+Kakeru+Tokyo" },
                        { time: "1:00 PM", desc: "Lunch @ Gyukatsu Ichi Ni San", icon: "utensils", link: "https://www.google.com/maps/search/?api=1&query=Gyukatsu+Ichi+Ni+San+Akihabara" },
                        { 
                            time: "2:30 PM", 
                            desc: "Explore Akihabara", 
                            icon: "shopping-bag", 
                            link: "https://www.google.com/maps/search/?api=1&query=Akihabara+Tokyo",
                            subLinks: [
                                { name: "Trader (Retro Games/Anime)", link: "https://www.google.com/maps/search/?api=1&query=Trader+Akihabara" },
                                { name: "Lashinbang Radio Kaikan", link: "https://www.google.com/maps/search/?api=1&query=Lashinbang+Radio+Kaikan+Akihabara" },
                                { name: "AmiAmi (Figures)", link: "https://www.google.com/maps/search/?api=1&query=AmiAmi+Akihabara" },
                                { name: "GU AKIBA TOLIM", link: "https://www.google.com/maps/search/?api=1&query=GU+Akihabara+Tolim" },
                                { name: "Club Marion Yodobashi Akiba (crepes)", link: "https://www.google.com/maps/search/?api=1&query=Club+Marion+Yodobashi+Akiba" },
                                { name: "Maidreamin (Maid Cafe)", link: "https://www.google.com/maps/search/?api=1&query=Maidreamin+Akihabara" }
                            ]
                        },
                        { time: "5:30 PM", desc: "Daruma Doll Painting", icon: "camera", link: "https://www.klook.com/en-SG/activity/176779-tokyo-create-your-own-daruma-experience/?spm=City.SearchSuggest_LIST&clickId=cd2d278604" },
                        { time: "7:00 PM", desc: "<mark>Dinner @ Ginza</mark)", icon: "utensils", link: "https://www.google.com/maps/search/?api=1&query=Ginza+Tokyo+Restaurants" },
                        { time: "9:00 PM", desc: "Return to Hotel", icon: "bed-double" }
                    ]
                },
                {
                    day: 3, date: "Apr 16 (Thu)", location: "tokyo", title: "Kamakura Coastal Day Trip",
                    events: [
                        { time: "9:00 AM", desc: "Tsurugaoka Hachimangu Shrine & Komachi Street", icon: "map-pin", link: "https://www.google.com/maps/search/?api=1&query=Tsurugaoka+Hachimangu+Shrine+Kamakura" },
                        { time: "12:00 PM", desc: "Great Buddha at Kotoku-in & Hasedera Temple", icon: "camera", link: "https://www.google.com/maps/search/?api=1&query=Kotoku-in+Temple+Kamakura" },
                        { time: "2:00 PM", desc: "Late Lunch @ Bills Cafe Shichirigahama", icon: "utensils", link: "https://www.google.com/maps/search/?api=1&query=Bills+Cafe+Shichirigahama" },
                        { time: "4:00 PM", desc: "Shichirigahama Beach (Fuji views) & Koshigoe Park", icon: "sunset", link: "https://www.google.com/maps/search/?api=1&query=Shichirigahama+Beach" },
                        { time: "5:00 PM", desc: "Hatoya Kamakura for matcha and ice cream", icon: "utensils", link: "https://maps.app.goo.gl/aPSCzpM1YoUwoRPQ7" )
                    ]
                },
                {
                    day: 4, date: "Apr 17 (Fri)", location: "tokyo", title: "Kawagoe & Thrifting",
                    events: [
                        { time: "10:30 AM", desc: "Hikawa Shrine & Kurazukuri Street", icon: "camera", link: "https://www.google.com/maps/search/?api=1&query=Kurazukuri+Street+Kawagoe" },
                        { time: "1:30 PM", desc: "Wood Works Kawagoe (Chopsticks) & Kashiya Yokocho", icon: "shopping-bag", link: "https://www.google.com/maps/search/?api=1&query=Wood+Works+Kawagoe" },
                        { time: "5:00 PM", desc: "Thrift Shopping @ Bookoff Super Bazaar (Saitama)", icon: "shopping-bag", link: "https://www.google.com/maps/search/?api=1&query=Bookoff+Super+Bazaar+Saitama" },
                        { time: "8:00 PM", desc: "Dinner: Miroku Yaesu (Offal BBQ)", icon: "utensils", link: "https://www.google.com/maps/search/?api=1&query=Miroku+Yaesu+Tokyo" }
                    ]
                },
                {
                    day: 5, date: "Apr 18 (Sat)", location: "tokyo", title: "Ginza Eats & Onsen",
                    events: [
                        { time: "10:00 AM", desc: "Dog Cafe (Ginza Cottage & M)", icon: "map-pin", link: "https://www.google.com/maps/search/?api=1&query=Ginza+Cottage+M+Tokyo" },
                        { time: "12:00 PM", desc: "Lunch: Ginza Hachigou (Need Reservation)", icon: "utensils", link: "https://www.google.com/maps/search/?api=1&query=Ginza+Hachigou" },
                        { time: "1:30 PM", desc: "Desserts (Benizuru Pancakes / Aigre Douce / Shizuka Sweets)", icon: "coffee", link: "https://www.google.com/maps/search/?api=1&query=Aigre+Douce+Tokyo" },
                        { time: "6:00 PM", desc: "Relax @ Spa LaQua / Toyosu Manyo Club Onsen (with buffet dinner)", icon: "coffee", link: "https://www.google.com/maps/search/?api=1&query=Toyosu+Manyo+Club+Onsen" }
                    ]
                },
                // JEJU
                {
                    day: 6, date: "Apr 19 (Sun)", location: "jeju", title: "Transit to Jeju",
                    events: [
                        { time: "12:00 PM", desc: "Check out of Tokyo Hotel", icon: "bed-double" },
                        { time: "4:35 PM", desc: "Flight from Narita to Jeju", icon: "plane-takeoff" },
                        { time: "8:00 PM", desc: "Arrive in Jeju & Airport Dabao / KBBQ Dinner", icon: "utensils" },
                        { time: "9:00 PM", desc: "Transfer to Airbnb (Monterrey)", icon: "bed-double", link: "https://www.airbnb.com.sg/rooms/779590289564955543" }
                    ]
                },
                {
                    day: 7, date: "Apr 20 (Mon)", location: "jeju", title: "East Jeju Exploring",
                    events: [
                        { time: "10:00 AM", desc: "Breakfast @ Mou Moon Cafe (Woljeongri)", icon: "coffee", link: "https://www.google.com/maps/search/?api=1&query=Mou+Moon+Cafe+Jeju" },
                        { time: "11:15 AM", desc: "Lunch @ Myeongjin Abalone", icon: "utensils", link: "https://www.google.com/maps/search/?api=1&query=Myeongjin+Abalone+Jeju" },
                        { time: "12:30 PM", desc: "Hike Seongsan Ilchulbong & Haenyeo Show", icon: "camera", link: "https://www.google.com/maps/search/?api=1&query=Seongsan+Ilchulbong+Jeju" },
                        { time: "5:30 PM", desc: "Dinner: Black Pork KBBQ @ 숙성도 (with Tangerine Makgeolli)", icon: "utensils", link: "https://www.google.com/maps/search/?api=1&query=Suksungdo+Jeju" }
                    ]
                },
                {
                    day: 8, date: "Apr 21 (Tue)", location: "jeju", title: "South/West Jeju Wonders",
                    events: [
                        { time: "10:00 AM", desc: "Gyulkkot Darak or Gamttanam Cafe (Tangerine Themed)", icon: "coffee", link: "https://www.google.com/maps/search/?api=1&query=Gamttanam+Cafe+Jeju" },
                        { time: "11:30 AM", desc: "Jusangjeollidae Cliff (Seaside)", icon: "camera", link: "https://www.google.com/maps/search/?api=1&query=Jusangjeollidae+Cliff+Jeju" },
                        { time: "12:00 PM", desc: "Lunch @ nearby 횟집 (Sashimi)", icon: "utensils" },
                        { time: "1:15 PM", desc: "Cheonjeyeon Waterfall Hike", icon: "map-pin", link: "https://www.google.com/maps/search/?api=1&query=Cheonjeyeon+Waterfall+Jeju" },
                        { time: "2:30 PM", desc: "Osulloc Tea Museum", icon: "coffee", link: "https://www.google.com/maps/search/?api=1&query=Osulloc+Tea+Museum+Jeju" },
                        { time: "5:00 PM", desc: "Saebyeol Friends Animal Farm", icon: "camera", link: "https://www.google.com/maps/search/?api=1&query=Saebyeol+Friends+Jeju" },
                        { time: "6:00 PM", desc: "Dinner @ Sarang Sikdang", icon: "utensils", link: "https://www.google.com/maps/search/?api=1&query=Sarang+Sikdang+Jeju" },
                        { time: "7:00 PM", desc: "Check in @ StayMaritime", icon: "bed-double", link: "https://www.airbnb.com.sg/rooms/1092988913079421270" }
                    ]
                },
                // SEOUL
                {
                    day: 9, date: "Apr 22 (Wed)", location: "seoul", title: "Hongdae & Hangang",
                    events: [
                        { time: "12:00 PM", desc: "Flight from Jeju to Gimpo", icon: "plane-takeoff" },
                        { time: "3:30 PM", desc: "Check-in: Mercure Hongdae", icon: "bed-double", link: "https://www.google.com/maps/search/?api=1&query=Mercure+Ambassador+Seoul+Hongdae" },
                        { time: "4:00 PM", desc: "Hangang Ramyeon @ Yeouinaru", icon: "utensils", link: "https://www.google.com/maps/search/?api=1&query=Yeouinaru+Station+Hangang+Park" },
                        { time: "5:30 PM", desc: "Sinchon Robinhood Archery Cafe", icon: "map-pin", link: "https://www.google.com/maps/search/?api=1&query=Robin+Hood+Archery+Cafe+Sinchon" },
                        { time: "7:00 PM", desc: "Dinner @ Sinchon/Hongdae & Olive Young", icon: "shopping-bag", link: "https://www.google.com/maps/search/?api=1&query=Hongdae+Seoul" },
                        { time: "10:00 PM", desc: "Return to Hotel", icon: "bed-double" }
                    ]
                },
                {
                    day: 10, date: "Apr 23 (Thu)", location: "seoul", title: "Shopping, Cafes & Pocha",
                    events: [
                        { time: "11:00 AM", desc: "WL: Lei Clinic", icon: "map-pin", link: "https://www.google.com/maps/search/?api=1&query=Lei+Clinic+Seoul" },
                        { 
                            time: "12:00 PM", 
                            desc: "Explore Spots & Cafes", 
                            icon: "coffee", 
                            subLinks: [
                                { name: "Apgujeong Cafe", link: "https://www.google.com/maps/search/?api=1&query=Apgujeong+Cafe+Seoul" },
                                { name: "Maplestory AGIT", link: "https://www.google.com/maps/search/?api=1&query=Maplestory+AGIT+Seoul" },
                                { name: "Seongsu Cafe", link: "https://www.google.com/maps/search/?api=1&query=Seongsu+Cafe+Seoul" }
                            ]
                        },
                        { time: "1:00 PM", desc: "Lunch", icon: "utensils" },
                        { time: "3:00 PM", desc: "Shopping @ Yongsan iPark Mall", icon: "shopping-bag", link: "https://www.google.com/maps/search/?api=1&query=Yongsan+iPark+Mall+Seoul" },
                        { time: "5:00 PM", desc: "Dinner/Drinks @ Jongno 3-ga Pocha Street", icon: "utensils", link: "https://www.google.com/maps/search/?api=1&query=Jongno+3-ga+Pocha+Street+Seoul" },
                        { time: "7:00 PM", desc: "Lotte Mart Grocery Shopping", icon: "shopping-bag", link: "https://www.google.com/maps/search/?api=1&query=Lotte+Mart+Seoul" },
                        { time: "9:00 PM", desc: "Return to Hotel", icon: "bed-double" }
                    ]
                },
                {
                    day: 11, date: "Apr 24 (Fri)", location: "seoul", title: "Departure",
                    events: [
                        { time: "10:00 AM", desc: "Haircut", icon: "check-circle-2" },
                        { time: "10:30 AM", desc: "Hongdae/Yeonnam Cafe Hopping", icon: "coffee", link: "https://www.google.com/maps/search/?api=1&query=Yeonnam-dong+Cafes+Seoul" },
                        { time: "12:00 PM", desc: "Lunch", icon: "utensils" },
                        { time: "2:30 PM", desc: "Check in & Head to Incheon Airport", icon: "train", link: "https://www.google.com/maps/search/?api=1&query=Incheon+Airport" },
                        { time: "4:45 PM", desc: "Flight Home to Singapore", icon: "plane-takeoff" }
                    ]
                }
            ]
        };

        // Static classes mapping for Tailwind (required since we generate classes dynamically via JS)
        const themeStyles = {
            pink: {
                btnActive: "bg-pink-500 text-white shadow-md",
                iconActive: "text-white",
                iconInactive: "text-pink-500",
                badge: "bg-pink-100 text-pink-700 border-pink-200",
                headerGrad: "from-pink-50",
                textMain: "text-pink-600",
                timelineIconNode: "border-pink-400 text-pink-500"
            },
            orange: {
                btnActive: "bg-orange-500 text-white shadow-md",
                iconActive: "text-white",
                iconInactive: "text-orange-500",
                badge: "bg-orange-100 text-orange-700 border-orange-200",
                headerGrad: "from-orange-50",
                textMain: "text-orange-600",
                timelineIconNode: "border-orange-400 text-orange-500"
            },
            purple: {
                btnActive: "bg-purple-500 text-white shadow-md",
                iconActive: "text-white",
                iconInactive: "text-purple-500",
                badge: "bg-purple-100 text-purple-700 border-purple-200",
                headerGrad: "from-purple-50",
                textMain: "text-purple-600",
                timelineIconNode: "border-purple-400 text-purple-500"
            }
        };

        // --- STATE ---
        let activeFilter = 'all';

        // --- INIT ---
        function initApp() {
            // Set static header data
            document.getElementById('header-title').innerText = tripData.overview.title;
            document.getElementById('header-meta').innerHTML = `
                <span class="flex items-center gap-1.5"><i data-lucide="calendar" class="w-4 h-4"></i> ${tripData.overview.dates}</span>
                <span class="flex items-center gap-1.5"><i data-lucide="credit-card" class="w-4 h-4"></i> ${tripData.overview.totalBudget}</span>
            `;
            
            createBlossoms();
            renderApp();
        }

        // --- BLOSSOM EFFECT ---
        function createBlossoms() {
            const container = document.getElementById('blossom-container');
            const petalCount = 40; // Adjust for more/less density
            
            for (let i = 0; i < petalCount; i++) {
                const petal = document.createElement('div');
                petal.classList.add('petal');
                
                // Randomize properties for natural look
                const size = Math.random() * 8 + 6; // 6px to 14px
                const startLeft = Math.random() * 120 - 10; // Spread across the width
                const duration = Math.random() * 8 + 6; // 6s to 14s fall time
                const delay = Math.random() * 10; // Staggered start times
                
                petal.style.width = `${size}px`;
                petal.style.height = `${size}px`;
                petal.style.left = `${startLeft}vw`;
                petal.style.animationDuration = `${duration}s`;
                petal.style.animationDelay = `-${delay}s`; // Negative delay starts them immediately
                
                container.appendChild(petal);
            }
        }

        function setFilter(filterId) {
            activeFilter = filterId;
            renderApp();
        }

        // --- RENDER LOGIC ---
        function renderApp() {
            renderFilters();
            
            let mainHtml = '';
            
            // Render Budget Overview only if "all" is selected
            if (activeFilter === 'all') {
                mainHtml += renderBudget();
            } else {
                mainHtml += renderHero();
            }

            // Render Itinerary Timeline
            mainHtml += renderTimeline();

            document.getElementById('main-content').innerHTML = mainHtml;
            
            // Re-initialize Lucide icons for dynamically added HTML
            lucide.createIcons();
        }

        function renderFilters() {
            const navContainer = document.getElementById('filter-nav');
            
            // All Button
            let html = `
                <button 
                    onclick="setFilter('all')"
                    class="px-4 py-2 rounded-full text-sm font-bold transition-colors whitespace-nowrap ${
                        activeFilter === 'all' ? 'bg-slate-800 text-white' : 'bg-slate-100 text-slate-600 hover:bg-slate-200'
                    }"
                >
                    Full Itinerary
                </button>
            `;

            // Location Buttons
            tripData.locations.forEach(loc => {
                const isActive = activeFilter === loc.id;
                const theme = themeStyles[loc.color];
                
                const btnClass = isActive 
                    ? theme.btnActive 
                    : 'bg-white border border-slate-200 text-slate-600 hover:bg-slate-50';
                
                const iconClass = isActive ? theme.iconActive : theme.iconInactive;

                html += `
                    <button 
                        onclick="setFilter('${loc.id}')"
                        class="px-4 py-2 rounded-full text-sm font-bold transition-colors whitespace-nowrap flex items-center gap-2 ${btnClass}"
                    >
                        <i data-lucide="map-pin" class="w-4 h-4 ${iconClass}"></i>
                        ${loc.name}
                    </button>
                `;
            });

            navContainer.innerHTML = html;
        }

        function renderBudget() {
            let html = `
                <section class="mb-12">
                    <h2 class="text-xl font-bold mb-4 flex items-center gap-2">
                        <i data-lucide="credit-card" class="text-slate-400 w-6 h-6"></i> Base Estimates
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
            `;

            tripData.budget.forEach(item => {
                html += `
                    <div class="bg-white p-4 rounded-2xl border border-slate-200 shadow-sm flex items-start gap-4">
                        <div class="bg-slate-100 p-2.5 rounded-xl text-slate-600">
                            <i data-lucide="${item.icon}" class="w-5 h-5"></i>
                        </div>
                        <div>
                            <p class="text-xs text-slate-500 font-medium mb-1">${item.item}</p>
                            <p class="font-bold text-slate-900">${item.cost}</p>
                        </div>
                    </div>
                `;
            });

            html += `
                    </div>
                </section>
            `;
            return html;
        }

        function renderHero() {
            const activeLocation = tripData.locations.find(l => l.id === activeFilter);
            if (!activeLocation) return '';

            return `
                <div class="w-full h-64 md:h-80 rounded-3xl overflow-hidden mb-8 relative shadow-lg">
                    <img 
                        src="${activeLocation.image}" 
                        alt="${activeLocation.name}"
                        class="w-full h-full object-cover"
                    />
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-8">
                        <h2 class="text-4xl font-extrabold text-white">
                            ${activeLocation.name}
                        </h2>
                    </div>
                </div>
            `;
        }

        function renderTimeline() {
            const filteredItinerary = tripData.itinerary.filter(
                day => activeFilter === 'all' || day.location === activeFilter
            );

            if (filteredItinerary.length === 0) {
                return `
                    <div class="text-center py-20">
                        <p class="text-slate-500">No events found for this filter.</p>
                    </div>
                `;
            }

            let html = '<div class="space-y-8">';

            filteredItinerary.forEach(day => {
                const locInfo = tripData.locations.find(l => l.id === day.location);
                const theme = themeStyles[locInfo.color];

                html += `
                    <div class="bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden hover:shadow-md transition-shadow">
                        <!-- Day Header -->
                        <div class="px-6 py-4 border-b border-slate-100 flex items-center justify-between bg-gradient-to-r ${theme.headerGrad} to-white">
                            <div>
                                <p class="text-sm font-bold ${theme.textMain} mb-1 flex items-center gap-2">
                                    DAY ${day.day} <span class="text-slate-300">•</span> ${day.date}
                                </p>
                                <h3 class="text-xl font-extrabold text-slate-900">${day.title}</h3>
                            </div>
                            <span class="px-3 py-1 rounded-full text-xs font-semibold border ${theme.badge}">
                                ${locInfo.name}
                            </span>
                        </div>

                        <!-- Events -->
                        <div class="p-6">
                            <div class="relative border-l-2 border-slate-100 ml-3 space-y-8">
                `;

                day.events.forEach(event => {
                    html += `
                        <div class="relative pl-8">
                            <!-- Timeline Node -->
                            <div class="absolute -left-[17px] top-1 bg-white border-2 w-8 h-8 rounded-full flex items-center justify-center shadow-sm ${theme.timelineIconNode}">
                                <i data-lucide="${event.icon}" class="w-3.5 h-3.5"></i>
                            </div>
                            
                            <!-- Event Content -->
                            <div class="flex flex-col sm:flex-row sm:items-start gap-2 sm:gap-4">
                                <span class="text-sm font-bold text-slate-400 min-w-[80px] flex items-center gap-1.5 mt-1">
                                    <i data-lucide="clock" class="w-3.5 h-3.5"></i> ${event.time}
                                </span>
                                <div class="flex flex-col">
                                    ${event.link 
                                        ? `<a href="${event.link}" target="_blank" rel="noopener noreferrer" class="text-slate-800 font-medium text-lg leading-tight hover:text-blue-600 hover:underline transition-colors inline-flex items-center flex-wrap gap-1.5">
                                            ${event.desc} <i data-lucide="external-link" class="w-4 h-4 text-slate-400"></i>
                                           </a>`
                                        : `<span class="text-slate-800 font-medium text-lg leading-tight">${event.desc}</span>`
                                    }
                                    ${event.subLinks 
                                        ? `<div class="flex flex-col gap-1.5 mt-2">
                                            ${event.subLinks.map(sub => `
                                                <a href="${sub.link}" target="_blank" rel="noopener noreferrer" class="text-sm font-medium text-slate-500 hover:text-blue-600 hover:underline flex items-center gap-1.5">
                                                    <i data-lucide="corner-down-right" class="w-3.5 h-3.5 text-slate-400"></i> ${sub.name}
                                                </a>
                                            `).join('')}
                                           </div>`
                                        : ''
                                    }
                                </div>
                            </div>
                        </div>
                    `;
                });

                html += `
                            </div>
                        </div>
                    </div>
                `;
            });

            html += '</div>';
            return html;
        }

        // Start the application
        initApp();
    </script>
</body>
</html>
